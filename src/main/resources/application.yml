server:
    port: ${SERVER_PORT:8080}
    servlet:
        context-path: /api

spring:
    application:
        name: one-matter

    # Configura√ß√£o para H2 (f√°cil para testes locais)
    datasource:
        url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;
        driver-class-name: org.h2.Driver
        username: sa
        password: password


    sql:
        init:
            # Garante que o script de inicializa√ß√£o do H2 seja executado
            mode: always

    jpa:
        # üí° CORRE√á√ÉO: For√ßa o Spring a esperar que o Hibernate crie o schema antes de rodar o data.sql
        defer-datasource-initialization: true
        hibernate:
            # Cria/atualiza o esquema no startup
            ddl-auto: create-drop
        show-sql: true
        properties:
            hibernate:
                format_sql: true

jwt:
    secret: aec3ec1f-53aa-4e82-93e7-702ab0194b80
    expiration: 86400000
    refresh-expiration: 604800000

logging:
    level:
        org.springframework.security: DEBUG
        br.com.fiap.medix_api.config: DEBUG